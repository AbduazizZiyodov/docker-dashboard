<div class="container" data-aos="zoom-in" data-aos-duration="250">
  <h2 class="navbar-text text-center mt-3">
    <i class="fas fa-cubes"></i> Pull Images
  </h2>

  <form [formGroup]="searchForm">
    <div class="input-group mb-3 w-75 m-auto">
      <input
        type="text"
        class="form-control"
        placeholder="Image name"
        aria-label="Image name"
        aria-describedby="search-button"
        formControlName="searchTerm"
        mdbValidate
        mdbInput
      />
      <button
        class="btn dodger-blue-bg text-white"
        type="button"
        id="search-button"
        mdbRipple
        rippleColor="light"
        (click)="getSearchResults()"
        [ngClass]="searchTerm?.invalid || !searchTerm ? 'disabled' : ''"
      >
        <i class="fas fa-search"></i>
      </button>
    </div>
  </form>

  <div class="text-center mt-3">
    <div *ngIf="isLoading" class="spinner-grow dodger-blue" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <div class="card w-75 m-auto mt-2" *ngIf="!searchResults && !isLoading">
    <div class="card-body">
      <p class="note note-primary border text-center">Do search bro ...</p>
    </div>
  </div>
</div>

<div class="flex-row-container p-3">
  <div
    class="flex-row-item"
    data-aos="zoom-out"
    data-aos-duration="500"
    *ngFor="for; let image; of: searchResults"
  >
    <div class="card m-2 p-1">
      <div class="card-body">
        <h5 class="card-title">
          <i *ngIf="image.is_official" class="fas fa-award"></i>
          <i *ngIf="!image.is_official" class="fas fa-cube"></i>
          {{ image.name }}
        </h5>
        <p class="card-text">
          {{ image.description }}
        </p>
        <button
          type="button"
          class="btn btn-warning text-capitalize"
          [ngClass]="image.is_pulled ? 'disabled' : ''"
          (click)="pullImage(image)"
        >
          <i class="fas fa-fire-alt"></i>

          <span *ngIf="image.is_pulling"> Pulling </span>
          <span *ngIf="!image.is_pulling">
            {{ image.is_pulled ? "Pulled" : "Pull" }}
          </span>

          <span
            *ngIf="image.is_pulling"
            class="spinner-border spinner-border-sm"
            role="status"
            aria-hidden="true"
          ></span>
        </button>
      </div>
    </div>
  </div>
</div>
